# マイナス商品在庫

## 商品移動登録・更新時のマイナス商品在庫検証

- 商品移動の結果、商品在庫の在庫数が0未満になったらエラーとする。

- 例：売上による商品移動（移動数=+4）を登録する場合。
    - 商品Aの在庫数=3であるとする。
    - 商品Aの在庫数を4つ引く。
    - 商品Aは在庫数=-1なので、エラー。

- 商品移動の各明細の商品ごとに実施する。
    - 商品移動に商品A、商品B、商品Cの移動を含むとする。
    - 商品Aがマイナス在庫だったとしても、商品B及び商品Cの在庫数も同様に検証する。

## 商品移動削除時のマイナス商品在庫検証

- 商品移動の削除の結果、商品在庫の在庫数が0未満になったらエラーとする。

- 例：入荷による商品移動（移動数=+4）を削除する場合。
    - 商品Aを4つ入荷。
    - 商品Aの在庫数=3つであるとする。
    - 最初の入荷の商品移動を削除する（在庫数が4つ減る）。
    - 商品Aはマイナス在庫なので、エラー。

- 商品移動の各明細の商品ごとに実施する。
